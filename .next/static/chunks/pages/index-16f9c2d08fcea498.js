(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(6451)}])},5105:(e,a,s)=>{e.exports=s(6758)},6451:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>b});var t=s(7876),i=s(7328),n=s(5105),l=s(4232);let d="skills_state_v1",r=Object.freeze({alma:30,almaMax:30,maxVitalidade:100,vitalidadeAtual:100,defesaBase:10,insano:{activeRounds:0,cooldownRounds:0},furyPrimed:!1});function o(e){try{window.localStorage.setItem(d,JSON.stringify(e))}catch(e){}}function c(e){var a,s,t,i;let n={...r,...e};return n.almaMax=Math.max(0,u(null!=(t=null==e?void 0:e.almaMax)?t:n.almaMax)),n.alma=u(n.alma),n.almaMax>0&&(n.alma=Math.min(n.alma,n.almaMax)),n.maxVitalidade=Math.max(1,u(n.maxVitalidade)||1),n.vitalidadeAtual=u(null!=(i=null==e?void 0:e.vitalidadeAtual)?i:n.vitalidadeAtual),n.vitalidadeAtual=Math.min(n.vitalidadeAtual,n.maxVitalidade),n.defesaBase=u(n.defesaBase),n.insano={activeRounds:u(null==e||null==(a=e.insano)?void 0:a.activeRounds)||0,cooldownRounds:u(null==e||null==(s=e.insano)?void 0:s.cooldownRounds)||0},n.furyPrimed=!!(null==e?void 0:e.furyPrimed),n}function u(e){let a=Number.parseInt(e,10);return Number.isFinite(a)&&a>0?a:0}function m(e){return Math.floor(Math.random()*e)+1}function x(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return m(e)+a}let h=(()=>{let e=function(){try{let e=window.localStorage.getItem(d);if(!e)return{...r};let a=JSON.parse(e);return c(a)}catch(e){return{...r}}}();function a(){return{...e,insano:{...e.insano}}}function s(e){return Math.max(0,Math.floor(.75*e))}function t(){return e.insano.activeRounds>0?Math.floor(.25*(e.almaMax||0)):0}return{getState:a,setState:function(s){return o(e=c({...e,...s})),a()},replaceState:function(s){return o(e=c(s)),a()},resetState:function(){return o(e={...r}),a()},activateInsano:function(){let s=a();if(s.insano.activeRounds>0)return{ok:!1,reason:"J\xe1 est\xe1 ativo."};if(s.insano.cooldownRounds>0)return{ok:!1,reason:"Em recarga."};if(s.alma<15)return{ok:!1,reason:"Alma insuficiente."};let t=m(6);return e.alma=Math.max(0,s.alma-15),e.insano.activeRounds=t,o(e),{ok:!0,duration:t,state:a()}},advanceRound:function(){let s=a(),t=null;if(e.insano.activeRounds>0){if(e.insano.activeRounds-=1,e.insano.activeRounds<=0){e.insano.activeRounds=0;let a=x(10,2);e.insano.cooldownRounds=a,t=a}}else e.insano.cooldownRounds>0&&(e.insano.cooldownRounds=Math.max(0,e.insano.cooldownRounds-1));o(e);let i=a();return{state:i,changes:{insanoActiveDelta:i.insano.activeRounds-s.insano.activeRounds,insanoCooldownDelta:i.insano.cooldownRounds-s.insano.cooldownRounds,enteredCooldown:t}}},getAdditionalDefense:t,applyPassiveIncomingPhysicalReduction:s,processIncomingPhysical:function(t){let{damage:i,isBlockSuccess:n=!1,targetMaxVitalidade:l}=t,d=a(),r=s(i),c=0;if(n){c=x(8,2);let a=Math.max(0,d.alma+c);e.alma=Math.min(a,d.almaMax)}let u=0;return e.insano.activeRounds>0&&Number.isFinite(l)&&(u=Math.floor(l*m(4)/100)),o(e),{damageAfter:r,almaHeal:c,extraDirectDamageToTarget:u,state:a()}},armFuria:function(){let s=a();return s.furyPrimed?{ok:!1,reason:"J\xe1 est\xe1 armada."}:s.alma<15?{ok:!1,reason:"Alma insuficiente."}:(e.alma=Math.max(0,s.alma-15),e.furyPrimed=!0,o(e),{ok:!0,state:a()})},processOutgoingAttack:function(s){let{baseDamage:t,fixedSum:i=0}=s,n=a(),l=t,d=i,r=!1;return n.furyPrimed&&(l=Math.floor(2*l),d+=15,e.furyPrimed=!1,r=!0),o(e),{damage:l,fixedSum:d,consumed:r,state:a()}},getDefesaTotal:function(){return e.defesaBase+t()}}})();function v(){let[e,a]=(0,l.useState)(h.getState()),[s,i]=(0,l.useState)(null),[n,d]=(0,l.useState)(50),[r,o]=(0,l.useState)(200),[c,u]=(0,l.useState)(!0),[m,x]=(0,l.useState)(null),v=(0,l.useMemo)(()=>h.getDefesaTotal(),[e.almaMax,e.defesaBase,e.insano.activeRounds]);return(0,l.useEffect)(()=>{a(h.getState());let e=()=>{a(h.getState())};window.addEventListener("storage",e);let s=e=>{"skills_state_changed"===e.detail&&a(h.getState())};return window.addEventListener("skills_state_changed",s),()=>{window.removeEventListener("storage",e),window.removeEventListener("skills_state_changed",s)}},[]),(0,t.jsxs)("div",{className:"main-flex",children:[(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("h2",{style:{textAlign:"center",marginBottom:6},children:"Habilidades"}),(0,t.jsx)("p",{style:{color:"var(--muted)",fontSize:"0.95em",marginBottom:16,textAlign:"center"},children:"Gerencie suas habilidades ativas e seus efeitos em combate."}),(0,t.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginTop:10},children:[(0,t.jsx)("button",{type:"button",onClick:function(){let e=h.activateInsano();e.ok?(a(e.state),i("Insano & Forte ativado por ".concat(e.duration," rodada(s)."))):i(e.reason)},children:"Ativar Insano & Forte (-15 Alma)"}),(0,t.jsx)("button",{type:"button",onClick:function(){let e=h.advanceRound();a(e.state),e.changes.enteredCooldown?i("Insano & Forte terminou. Recarga: ".concat(e.changes.enteredCooldown," rodada(s).")):i("Rodada avan\xe7ada.")},children:"Avan\xe7ar Rodada"}),(0,t.jsx)("button",{type:"button",onClick:function(){let e=h.armFuria();e.ok?(a(e.state),i("F\xfaria Ancestral armada para o pr\xf3ximo ataque.")):i(e.reason)},children:"Armar F\xfaria Ancestral (-15 Alma)"})]}),s&&(0,t.jsx)("div",{style:{marginTop:8,color:"var(--muted)"},children:s}),(0,t.jsx)("hr",{className:"section-divider"}),(0,t.jsx)("h3",{className:"result-heading",children:"Testes r\xe1pidos — bloqueio"}),(0,t.jsx)("label",{children:"Dano recebido"}),(0,t.jsx)("input",{type:"number",min:0,value:n,onChange:e=>d(Number(e.target.value))}),(0,t.jsx)("label",{children:"Bloqueio bem-sucedido?"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{style:{marginRight:12},children:[(0,t.jsx)("input",{type:"radio",name:"blk",checked:c,onChange:()=>u(!0)})," Sim"]}),(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"radio",name:"blk",checked:!c,onChange:()=>u(!1)})," N\xe3o"]})]}),(0,t.jsx)("label",{children:"Vit. M\xe1x. do alvo"}),(0,t.jsx)("input",{type:"number",min:0,value:r,onChange:e=>o(Number(e.target.value))}),(0,t.jsx)("button",{type:"button",onClick:function(){let e=h.processIncomingPhysical({damage:Number(n)||0,isBlockSuccess:!!c,targetMaxVitalidade:Number(r)||0});a(e.state),x(e)},style:{marginTop:8},children:"Simular bloqueio"}),m&&(0,t.jsxs)("div",{style:{marginTop:8},children:[(0,t.jsxs)("div",{children:["Dano ap\xf3s passivo: ",(0,t.jsx)("strong",{children:m.damageAfter})]}),(0,t.jsxs)("div",{children:["Cura de Alma: ",(0,t.jsx)("strong",{children:m.almaHeal})]}),(0,t.jsxs)("div",{children:["Dano direto ao alvo: ",(0,t.jsx)("strong",{children:m.extraDirectDamageToTarget})]})]})]}),(0,t.jsxs)("div",{className:"result",children:[(0,t.jsx)("h2",{className:"card-title",children:"Estado Atual"}),(0,t.jsxs)("div",{className:"result-col",children:[(0,t.jsx)("div",{className:"result-heading",children:"Recursos"}),(0,t.jsxs)("div",{children:["Alma: ",(0,t.jsx)("strong",{children:e.alma})," / ",(0,t.jsx)("strong",{children:e.almaMax})]}),(0,t.jsxs)("div",{children:["Vitalidade: ",(0,t.jsx)("strong",{children:e.vitalidadeAtual})," / ",(0,t.jsx)("strong",{children:e.maxVitalidade})]}),(0,t.jsx)("div",{className:"result-heading",children:"Insano & Forte"}),(0,t.jsxs)("div",{children:["Ativo por: ",(0,t.jsx)("strong",{children:e.insano.activeRounds})," rodada(s)"]}),(0,t.jsxs)("div",{children:["Recarga: ",(0,t.jsx)("strong",{children:e.insano.cooldownRounds})," rodada(s)"]}),(0,t.jsx)("div",{className:"result-heading",children:"F\xfaria Ancestral"}),(0,t.jsxs)("div",{children:["Pr\xf3ximo ataque: ",(0,t.jsx)("strong",{children:e.furyPrimed?"ARMADO":"—"})]}),(0,t.jsx)("div",{className:"result-heading",children:"Defesa"}),(0,t.jsxs)("div",{children:["Defesa base: ",(0,t.jsx)("strong",{children:e.defesaBase})]}),(0,t.jsxs)("div",{children:["B\xf4nus tempor\xe1rio: ",(0,t.jsx)("strong",{children:v-e.defesaBase})]}),(0,t.jsxs)("div",{children:["Defesa total: ",(0,t.jsx)("strong",{children:v})]}),(0,t.jsx)("div",{className:"result-heading",children:"Passivos"}),(0,t.jsx)("div",{children:"-25% de dano f\xedsico recebido; bloqueio bem-sucedido cura 1d8+2 de Alma."})]})]})]})}function j(){let[e,a]=(0,l.useState)(h.getState());(0,l.useEffect)(()=>{a(h.getState());let e=()=>{a(h.getState())};window.addEventListener("storage",e);let s=e=>{"skills_state_changed"===e.detail&&a(h.getState())};return window.addEventListener("skills_state_changed",s),()=>{window.removeEventListener("storage",e),window.removeEventListener("skills_state_changed",s)}},[]);let s=e=>s=>{a(h.setState({[e]:s}))},i=e.maxVitalidade>0?e.vitalidadeAtual/e.maxVitalidade*100:0,n=e.almaMax>0?e.alma/e.almaMax*100:0;return(0,t.jsxs)("div",{className:"personagem-container",children:[(0,t.jsx)("h1",{className:"personagem-title",children:"Status do Personagem"}),(0,t.jsxs)("div",{className:"status-section",children:[(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsxs)("div",{className:"stat-header",children:[(0,t.jsx)("label",{children:"Vitalidade"}),(0,t.jsxs)("span",{className:"stat-values",children:[e.vitalidadeAtual," / ",e.maxVitalidade]})]}),(0,t.jsx)("div",{className:"stat-bar-container",children:(0,t.jsx)("div",{className:"stat-bar vida-bar",style:{width:"".concat(Math.min(100,i),"%")}})}),(0,t.jsxs)("div",{className:"stat-inputs",children:[(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("label",{children:"Atual"}),(0,t.jsx)("input",{type:"number",min:0,max:e.maxVitalidade,value:e.vitalidadeAtual,onChange:e=>s("vitalidadeAtual")(Number(e.target.value))})]}),(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("label",{children:"M\xe1xima"}),(0,t.jsx)("input",{type:"number",min:1,value:e.maxVitalidade,onChange:e=>s("maxVitalidade")(Number(e.target.value))})]})]})]}),(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsxs)("div",{className:"stat-header",children:[(0,t.jsx)("label",{children:"Alma"}),(0,t.jsxs)("span",{className:"stat-values",children:[e.alma," / ",e.almaMax]})]}),(0,t.jsx)("div",{className:"stat-bar-container",children:(0,t.jsx)("div",{className:"stat-bar alma-bar",style:{width:"".concat(Math.min(100,n),"%")}})}),(0,t.jsxs)("div",{className:"stat-inputs",children:[(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("label",{children:"Atual"}),(0,t.jsx)("input",{type:"number",min:0,max:e.almaMax,value:e.alma,onChange:e=>s("alma")(Number(e.target.value))})]}),(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("label",{children:"M\xe1xima"}),(0,t.jsx)("input",{type:"number",min:0,value:e.almaMax,onChange:e=>s("almaMax")(Number(e.target.value))})]})]})]}),(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsxs)("div",{className:"stat-header",children:[(0,t.jsx)("label",{children:"Defesa Base"}),(0,t.jsx)("span",{className:"stat-values",children:e.defesaBase})]}),(0,t.jsx)("div",{className:"stat-inputs single-input",children:(0,t.jsx)("input",{type:"number",min:0,value:e.defesaBase,onChange:e=>s("defesaBase")(Number(e.target.value))})})]})]})]})}function b(){return(0,l.useEffect)(()=>{},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i,{children:[(0,t.jsx)("title",{children:"Forjador de Construtos"}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"})]}),(0,t.jsx)(n,{src:"/script.js?v=20250904",strategy:"afterInteractive",onLoad:()=>{if("complete"===document.readyState||"interactive"===document.readyState){let e=new Event("DOMContentLoaded");window.dispatchEvent(e),document.dispatchEvent(e)}}}),(0,t.jsx)(n,{src:"/testes.js?v=20250904",strategy:"afterInteractive"}),(0,t.jsx)("div",{className:"bg-layer","aria-hidden":"true"}),(0,t.jsxs)("div",{className:"tabs-container",children:[(0,t.jsxs)("div",{className:"tabs-bar",children:[(0,t.jsx)("button",{className:"tab-btn active","data-tab":"personagem",children:"Personagem"}),(0,t.jsx)("button",{className:"tab-btn","data-tab":"forja",children:"Forja"}),(0,t.jsx)("button",{className:"tab-btn","data-tab":"testes",children:"Testes"}),(0,t.jsx)("button",{className:"tab-btn","data-tab":"habilidades",children:"Habilidades"}),(0,t.jsx)("button",{className:"tab-btn","data-tab":"historico",children:"Hist\xf3rico de Construtos"})]}),(0,t.jsxs)("div",{className:"tabs-content",children:[(0,t.jsx)("div",{className:"tab-pane",id:"tab-personagem",style:{display:"flex"},children:(0,t.jsx)(j,{})}),(0,t.jsx)("div",{className:"tab-pane",id:"tab-forja",style:{display:"none"},children:(0,t.jsx)("div",{className:"main-flex",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("h1",{children:"Forjador de Construtos"}),(0,t.jsxs)("form",{id:"forgeForm",onSubmit:e=>e.preventDefault(),children:[(0,t.jsx)("label",{htmlFor:"estilo",children:"Estilo do Construto"}),(0,t.jsxs)("div",{className:"select-wrapper",children:[(0,t.jsxs)("select",{id:"estilo",name:"estilo",children:[(0,t.jsx)("option",{value:"Proj\xe9til",children:"Proj\xe9til"}),(0,t.jsx)("option",{value:"Padr\xe3o",children:"Padr\xe3o"}),(0,t.jsx)("option",{value:"Pesado",children:"Pesado"}),(0,t.jsx)("option",{value:"\xc1rea",children:"\xc1rea"}),(0,t.jsx)("option",{value:"Colossal",children:"Colossal"}),(0,t.jsx)("option",{value:"Estrutura",children:"Estrutura"})]}),(0,t.jsx)("span",{className:"select-caret","aria-hidden":"true"})]}),(0,t.jsx)("label",{htmlFor:"almaExtra",children:"Alma Extra"}),(0,t.jsx)("input",{type:"number",id:"almaExtra",name:"almaExtra",min:"0",defaultValue:"0",required:!0}),(0,t.jsx)("div",{id:"blocos-info"}),(0,t.jsx)("label",{htmlFor:"dano",children:"Blocos em Dano"}),(0,t.jsx)("input",{type:"number",id:"dano",name:"dano",min:"0",defaultValue:"0",required:!0}),(0,t.jsxs)("div",{className:"hybrid-control",children:[(0,t.jsx)("input",{type:"range",id:"danoSlider",min:"0",max:"0",defaultValue:"0",step:"1"}),(0,t.jsx)("div",{className:"block-bar",id:"danoBar"})]}),(0,t.jsx)("label",{htmlFor:"defesa",children:"Blocos em Defesa"}),(0,t.jsx)("input",{type:"number",id:"defesa",name:"defesa",min:"0",defaultValue:"0",required:!0}),(0,t.jsxs)("div",{className:"hybrid-control",children:[(0,t.jsx)("input",{type:"range",id:"defesaSlider",min:"0",max:"0",defaultValue:"0",step:"1"}),(0,t.jsx)("div",{className:"block-bar",id:"defesaBar"})]}),(0,t.jsx)("label",{htmlFor:"vitalidade",children:"Blocos em Vitalidade"}),(0,t.jsx)("input",{type:"number",id:"vitalidade",name:"vitalidade",min:"0",defaultValue:"0",required:!0}),(0,t.jsxs)("div",{className:"hybrid-control",children:[(0,t.jsx)("input",{type:"range",id:"vitalidadeSlider",min:"0",max:"0",defaultValue:"0",step:"1"}),(0,t.jsx)("div",{className:"block-bar",id:"vitalidadeBar"})]}),(0,t.jsx)("label",{htmlFor:"duracao",children:"Blocos em Dura\xe7\xe3o"}),(0,t.jsx)("input",{type:"number",id:"duracao",name:"duracao",min:"0",defaultValue:"0",required:!0}),(0,t.jsxs)("div",{className:"hybrid-control",children:[(0,t.jsx)("input",{type:"range",id:"duracaoSlider",min:"0",max:"0",defaultValue:"0",step:"1"}),(0,t.jsx)("div",{className:"block-bar",id:"duracaoBar"})]}),(0,t.jsx)("button",{type:"submit",id:"forjarBtn",children:"Forjar Construto"})]})]})})}),(0,t.jsx)("div",{className:"tab-pane",id:"tab-testes",style:{display:"none"},children:(0,t.jsxs)("div",{className:"main-flex",children:[(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("h2",{children:"Testes Interativos"}),(0,t.jsxs)("form",{id:"testsForm",onSubmit:e=>e.preventDefault(),children:[(0,t.jsx)("label",{htmlFor:"teste-pericia",children:"Per\xedcia"}),(0,t.jsxs)("div",{className:"select-wrapper",children:[(0,t.jsx)("select",{id:"teste-pericia"}),(0,t.jsx)("span",{className:"select-caret","aria-hidden":"true"})]}),(0,t.jsx)("label",{htmlFor:"teste-atributo",children:"Atributo"}),(0,t.jsxs)("div",{className:"select-wrapper",children:[(0,t.jsx)("select",{id:"teste-atributo"}),(0,t.jsx)("span",{className:"select-caret","aria-hidden":"true"})]}),(0,t.jsx)("label",{htmlFor:"teste-vantagens",children:"Vantagens"}),(0,t.jsx)("input",{type:"number",id:"teste-vantagens",min:"0",defaultValue:"0"}),(0,t.jsx)("label",{htmlFor:"teste-desvantagens",children:"Desvantagens"}),(0,t.jsx)("input",{type:"number",id:"teste-desvantagens",min:"0",defaultValue:"0"}),(0,t.jsx)("label",{htmlFor:"teste-bonus",children:"B\xf4nus adicional (opcional)"}),(0,t.jsx)("input",{type:"number",id:"teste-bonus",defaultValue:"0"}),(0,t.jsx)("button",{type:"submit",id:"rolarTesteBtn",children:"Rolar Teste"}),(0,t.jsx)("button",{type:"button",id:"addFavoritoBtn",className:"sec",children:"Adicionar aos Favoritos"}),(0,t.jsx)("div",{className:"inline",style:{marginTop:"8px"},children:(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"checkbox",id:"teste-no-discord"})," N\xe3o enviar ao Discord"]})})]})]}),(0,t.jsxs)("div",{className:"favoritos-container",style:{maxWidth:"500px",margin:"0 auto"},children:[(0,t.jsx)("h2",{children:"Favoritos"}),(0,t.jsx)("div",{id:"favoritos-vazio",className:"favoritos-empty",children:"Nenhum favorito ainda."}),(0,t.jsx)("div",{id:"favoritos-list"})]})]})}),(0,t.jsx)("div",{className:"tab-pane",id:"tab-habilidades",style:{display:"none"},children:(0,t.jsx)(v,{})}),(0,t.jsx)("div",{className:"tab-pane",id:"tab-historico",style:{display:"none"},children:(0,t.jsxs)("div",{className:"historico-container",children:[(0,t.jsx)("h2",{children:"Hist\xf3rico de Construtos"}),(0,t.jsx)("div",{className:"historico-actions",children:(0,t.jsx)("button",{id:"limparHistoricoBtn",type:"button",className:"clear-history-btn",children:"Limpar hist\xf3rico"})}),(0,t.jsx)("div",{id:"historico-list"}),(0,t.jsx)("div",{id:"historico-total",style:{marginTop:"18px",fontWeight:"bold"}})]})})]})]})]})}},7328:(e,a,s)=>{e.exports=s(9269)}},e=>{e.O(0,[636,593,792],()=>e(e.s=2936)),_N_E=e.O()}]);